{% extends 'base.html.twig' %}

{% block title %}Article index{% endblock %}

{% block body %}

    {% include("menus/navigation_admin.html.twig") %}
    {% include("headers/header_admin.html.twig") %}

        <div class="container">
        <!-- Article main content -->
        <article class="col-md-12 maincontent">
            <div class="container">
                <div class="row">	
                    <h3>Liste des Articles</h3>
                    <hr>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Id</th>
                                {# <th>Image</th> #} 
                                <th><a href="{{ path('app_article_tri_asc', {'champ': 'titre'}) }}" >Titre</a></th>
                                <th><a href="{{ path('app_articles_cat_asc') }}" >Cat√©gorie</a></th>
                                <th><a href="{{ path('app_articles_tri_aut_asc') }}" >Auteur</a></th> 
                                <th><a href="{{ path('app_article_tri_asc', {'champ': 'createdAt'}) }}"  >Date</a></th> 
                                <th></th>
                            </tr>
                        </thead>


                        <tbody>
                            {% for article in articles %}
                                <tr>
                                    <td>{{ article.id }}</td>
                                    {# <td>{{ article.image }}</td> #}
                                    <td>{{ article.titre }}</td>
                                    <td>{{ article.categorie.titre }}</td>
                                   
                                    <td>{{ article.auteur.noms }} {{ article.auteur.prenoms }}</td>
                                    <td> {{ article.createdAt | date('d/m/Y') }} </td>
                                    <td> 
                                        <div class="container bg-transparent">
                                                {# <a href="{{ path('app_article_affichage', {'id': article.id}) }}" class="btn btn-success">Affich</a>#}

                                                
                                                    <th><a href="{{ path('app_article_affichage', {'id': article.id, 'slug': article.slug}) }}" class="btn btn-success">Affich</a></th>
                                                    <th><a href="{{ path('app_article_edit', {'id': article.id}) }}" class="btn btn-warning">Edit</a></th>
                                                    <th>{{ include('article/_delete_form.html.twig') }} </a></th>
                                               
                                               
                                            </div>
                                        </div>
                                    
                                    </td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="5">Aucun article pour lemoment !</td>
                                </tr>
                            {% endfor %}
                            
                        </tbody>
                        
                    </table>

                   
                </div>
                 <a href="{{ path('app_articles_new') }}"  class="btn btn-dark">Ajouter un nouvel article></a>
            </div>
            
        </article>
        <br><br> {{ knp_pagination_render(articles) }}


        
    </div>
<br><br> {{ knp_pagination_render(articles) }}
{% endblock%}
                        
                        
                        
                        
          